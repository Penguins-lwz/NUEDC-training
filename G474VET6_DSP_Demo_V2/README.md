# README

* 本工程为基于 CMSIS-DSP 库的 FIR 与 FFT 例程

## 更新日志

* 删除 V1 版本重复包含的 CMSIS-DSP 库内容，缩减工程大小
* 调整 V1 版本 FIR 滤波器参数，具体参数见下文
* 调整 V1 版本 FFT 示例，区分为 **整周期采样** 与 **非整周期采样**，以观察频谱泄露现象
* 利用实数 FFT 频谱对称性质，将 **幅度谱** 后半部分修改为 **相位谱** 前半部分，详见源码

## 使用方法

* 在主函数 `int main(void)` 内，分别解除三个示例的注释，以在 VOFA 观察波形

### FIR 例程 `ALGO_FIR_Demo(void)`

#### 实验参数

* 信号参数：采样率 1 MHz，信号频率 10 kHz，峰峰值 160，偏置 100，含高斯噪声
* 滤波器参数：FIR 等纹波 48 阶，通带频率 0.04，阻带频率 0.1，通带纹波 0.1 dB，阻带增益 -40 dB
* 注意：上述通带、阻带频率指归一化频率，即实际频率与采样率一半的比值

#### 实验现象

* VOFA 中可见滤波前、后波形（已去除群延迟效应）

### FFT 例程 `ALGO_FFT_Demo_x(void)`

#### 实验参数

* 信号参数 1：整周期采样，直流与三种频率信号混叠，详见代码计算
* 信号参数 2：非整周期采样，直流与一种频率信号混叠，详见代码计算
* 幅度谱阈值：直流频点与幅度谱低于阈值 (5e-4) 的频点，相位谱修正为 0

#### 实验现象

* 实验现象 1：整周期采样，除极少数舍入误差外无频谱泄露，各指定频点幅度谱准确
* 实验现象 2：非整周期采样（采样点数 1024，周期点数 1000），频谱全频段泄露，幅度谱失真
* 注意：实际应用中，若已知信号可能的频率，使用 DFT 计算效果优于 FFT
